2007-03-19  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_init):
	* src/structs.h:
	* src/wm.c: (wm_make_new_client):
	Add basic support for;
        _NET_WM_WINDOW_TYPE_POPUP_MENU & _NET_WM_WINDOW_TYPE_DROPDOWN_MENU

2007-02-17  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_move_resize):
	Dont attempt to move non existstant frame of non decorated
	dialog window.

2007-02-06  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_init_props):
	Set _NET_CURRENT_DESKTOP to 0

2007-02-06  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_update_rects), (set_supported):
	Dont list _NET_CURRENT_DESKTOP supported twice.
	Fix _NET_DESKTOP_GEOMETRY to be correctly WxH rather than full geom. 

2007-01-25  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_handle_configure_request):
	Allow decorationless dialogs to *re*position themselves offscreen.

2007-01-17  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c:
	* src/structs.h:
	* src/wm.c:
	Add support for _NET_WM_WINDOW_TYPE_NOTIFICATION
	(maps to mb only TYPE_MESSAGE, can be deprecated)

2007-01-16  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c:
	Fix Maemo input win vertical resize handling.

2007-01-11  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c:
	Fixes to focus chaining in presence of modal dialogs.
	* src/stack.c: (stack_dump):
	* src/wm.c: (wm_activate_client):
	Improve debug stack dumping info.

2006-12-22  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c:
	* src/structs.h:
	Add very basic support for an _MB_WM_STATE prop.

2006-12-15  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c:
	Fix small XSet #define typo (thanks to Tapani)

2006-12-14  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_update_layout):
	Handle resizing of dialogs better when a input window
	unmaps. (Note, for non alt-input-wins, i.e. maemo)

2006-12-14  Matthew Allum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	Release passive button grab on client destruction

2006-11-23  Matthew Allum  <mallum@openedhand.com>

	* data/themes/blondie/theme.xml:
	* src/mbtheme.c: (mbtheme_init):
	Allow theme to set cursor theme and size.

2006-11-17  Matthew Allum  <mallum@openedhand.com>

	* configure.ac:
	* src/Makefile.am:
	* src/wm.c: (wm_xsettings_notify_cb):
	Sync with cursor theme and size GTK xsettings propertys

2006-11-03  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_init_geometry):
	On position a splash window centered if positioned initially at 0,0
	Fixes position issues with mb panel applet message wins.

2006-10-11  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_get_available_area):
	Backout 2006-09-07 change (uneeded) 
	* src/wm.c: (wm_handle_configure_request), (wm_activate_client):
	Dont let alt input wins resize horizontal. 
        Misc cleanups ( a c++ comment )

2006-09-22  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c:
	* src/ewmh.c:
	* src/structs.h:
	Set modal indicator desktop hint for all modal dialogs, not
	just system ones. 
	Be sure to set panel in titlebar state hints (#40723)

2006-09-18  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_handle_button_event):
	Dont attempt to move focus from a modal dialog to parent 
        (maemo #40455)

2006-09-18  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_get_available_area),
	(dialog_client_button_press):
	Fix alt input win positioning.
	Add better check for modal window presence to disable decoration
	buttons ( in super modal mode ).

2006-09-07  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_init), (ewmh_update_lists):
	* src/structs.h:
	Advertise presence of modal blocker wins on root 
	window ( in maemo super modal mode )

2006-09-07  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_get_available_area):
        Fix for returning correct available area for dialogs
        when alt input win present.

2006-09-05  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c:
	Redo dialog dragging code to use XShape for outlines
	rather that XOR'ing. 

2006-08-31  Matthew Allum  <mallum@openedhand.com>

	* configure.ac:
	Really check for 4.0 xfixes..

2006-08-29  Matthew Allum  <mallum@openedhand.com>

	* configure.ac:
	Check for xfixes >= 4.0 rather than 2.0.

2006-08-28  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_init_geometry):
	Still allow decorationless dialogs to position
	themselves freely - fixes error in previous commit. 
	( Thanks to Marco )

2006-08-28  Matthew Allum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	Remove spurious repositioning if client positioned
	with negative positions ( should get fixed later ).	

	* src/structs.h:
	* src/dialog_client.c: (dialog_init_geometry):
	* src/wm.c: (wm_make_new_client):
	Only center 0,0 non decorated clients if they have
	splash screen hint set.

2006-08-24  Matthew Allum  <mallum@openedhand.com>

	* configure.ac:
	* src/Makefile.am:
	* src/wm.c:
	Support XFixesHide/ShowCursor if XFixes lib and recent 
        enough extension available. Really hides cursor now.

2006-08-24  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_update_layout):
	Dont let panels changing size ( or unmapping ) effect
	fullscreen app windows.

2006-08-24  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_remove_client):
	Only check for lack of main win, not desktop also
	for mb app active prop update ( see last commit )

2006-08-24  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_update_lists):
	* src/wm.c: (wm_remove_client):
	Set root win list and active props accordingly when
	no active clients.

2006-08-11  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_show):
	* src/stack.c: (stack_dump):
	* src/wm.c: (wm_activate_client):
	Grouped dialog stacking fixes (see maemo #36977)

2006-08-09  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_activate_client):
	Fix focus for app mapping with multi level trans for root
	present.

2006-08-04  =============== 1.1 Release. =====================

2006-08-04  Matthew Allum  <mallum@openedhand.com>

	* NEWS:
	* configure.ac:
	Bump up version to 1.1

2006-08-03  Matthew Allum  <mallum@openedhand.com>

	* src/client_common.c: (client_get_transient_list):
	* src/ewmh.c: (ewmh_init):
	* src/main_client.c: (main_client_configure),
	(main_client_title_height), (main_client_get_coverage),
	(main_client_reparent), (main_client_move_resize),
	(main_client_toggle_fullscreen), (main_client_redraw),
	(main_client_button_press), (main_client_toggle_title_bar):
	* src/structs.h:
	* src/wm.c: (wm_handle_property_change), (wm_make_new_client),
	(wm_activate_client):
	Add support for decoration less application windows. 	

2006-07-28  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_load_config):
	Fix typo in non XRDB cmd line parser.

2006-07-19  Matthew Allum  <mallum@openedhand.com>

	* src/keys.c: (keys_load_config):
	* src/structs.h:
	* src/wm.c: (wm_usage), (wm_load_config):
	Add support for '-kbdconfig' cmd line option to specify
	an alternate key shortcut config file.

2006-07-05  Matthew Allum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	Fix compiler warning when not building with alt input wins.
	* src/structs.h:
	* src/keys.c: (keys_keysym_needs_shift), (keys_add_entry):
	* src/wm.c: (wm_handle_keypress):
	Fixes for better handling shifted key shortcuts.

2006-07-05  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_activate_client):
	Set the active app root prop *after* setting new list
	props as to avoid sync issues in apps using this info. 

2006-06-13  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_handle_root_message):
	Dont start pinging an app if requests to be activated
	but is already activated, ( maemo #32483 )

2006-06-06  Matthew Allum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
        Be more careful removing alt ( maemo ) input methods
        when transient to removed dialog / application.

2006-06-01  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_hung_app_check):
	Call XSync() so ping is sent immediatly to be double safe. 

	* src/wm.c: (wm_event_loop):
	correctly honur PING_INTERVAL, not PING_INTERVAL+1

2006-05-26  Matthew Allum  <mallum@openedhand.com>

	* src/toolbar_client.c: (toolbar_client_show),
	(toolbar_client_hide), (toolbar_client_button_press):
	Fix for iconizing toolbar windows and there position.
	Fixes MB bug #95

2006-05-23  Matthew Allum  <mallum@openedhand.com>

	* src/toolbar_client_alt.c: (toolbar_client_destroy):
	Add repaint to removal also.

2006-05-22  Matthew Allum  <mallum@openedhand.com>

	* src/toolbar_client_alt.c: (toolbar_client_configure):
	Force a dialog repaint on IM dialog resize for safety.

2006-05-17  Matthew Allum  <mallum@openedhand.com>

	* src/toolbar_client_alt.c: (toolbar_client_destroy):
	Fix typo snafu with previous commit. 

2006-05-17  Matthew Allum  <mallum@openedhand.com>

	* src/toolbar_client_alt.c: (toolbar_client_destroy):
	Just change affected dialog height back to original
	size. Dont try and do anything clever with positioning. 

2006-05-11  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_handle_root_message):
	* src/main_client.c: (main_client_toggle_fullscreen):
	* src/wm.c: (wm_activate_client):
	Make aggresive pinging a little less aggressive;
	 - No pinging on fullscreen toggles.
	 - Only ping on NET_ACTIVE message.

2006-05-08  Matthew Allum  <mallum@openedhand.com>

	* src/toolbar_client_alt.c: (toolbar_client_new),
	(toolbar_client_configure), (toolbar_client_destroy):
	Only remember size of affected dialogs for reseting, not position.

2006-05-08  Matthew Allum  <mallum@openedhand.com>

	* src/client_common.c: (client_get_highest_transient):
	Honour client_flags in initial loop. should fix maemo #25281

2006-04-19  Matthew Allum  <mallum@openedhand.com>

	* src/main_client.c: (main_client_toggle_fullscreen):
	Send state message before configure when toggleing 
	fullscreen.

2006-04-19  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_init_geometry):
	Fix dialog gravity in presence of panels

2006-04-13  Matthew Allum  <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_paint):
	Dont attempt to paint 0 width decorations.

2006-04-12  Matthew Allum  <mallum@openedhand.com>

	* src/toolbar_client_alt.c: (toolbar_client_new),
	(toolbar_client_configure), (toolbar_client_destroy):
	Support repositioning dialogs an alt toolbar ( IM ) window
	is transient for.  
	* src/wm.c: (wm_handle_configure_request):
	Correct some debug info. 

2006-04-12  Matthew Allum  <mallum@openedhand.com>

	* src/client_common.c: (client_set_focus):
	Focus tracking fix moving between dialogs and trans for
	root dialog. fixs maemo #26095 

2006-04-10  Matthew Allum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	* src/dialog_client.c: (dialog_client_reparent),
	(dialog_init_geometry):
	* src/structs.h:
	* src/wm.c: (wm_event_loop), (wm_handle_configure_request):
	Add basic support for window gravity on dialogs.

2006-03-24  Matthew Allum  <mallum@openedhand.com>

	* src/wm.c: (wm_handle_property_change):
	Make sure window names changes can end up NULL.

2006-03-15  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_button_press):
	Stop buttons on lower dialogs working when modal
	blocker window in place ( When in super modal mode ).

2006-03-10  Matthew Allum  <mallum@openedhand.com>

	* src/client_common.c: (client_set_focus):
	* src/dialog_client.c: (dialog_client_set_focus_next):
	Focus fixes for case of multiple trans for root dialogs.

2006-03-07  =============== 1.0 Release. =====================

2006-03-07  Matthew Allum  <mallum@openedhand.com>

	* configure.ac:
	Be brave and finally bump up version to 1.0 

2006-03-01  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_show):
	Attempted fix for grouped dialog stacking.

2006-02-19  Matthew Allum  <mallum@openedhand.com>

	* src/client_common.c: (client_deliver_delete):
	* src/ewmh.c: (ewmh_handle_root_message), (ewmh_get_user_time),
	(ewmh_set_current_app_window), (ewmh_ping_client_start),
	(ewmh_ping_client_stop), (ewmh_hung_app_check):
	* src/ewmh.h:
	* src/main_client.c: (main_client_toggle_fullscreen):
	* src/structs.h:
	* src/wm.c: (wm_load_config), (wm_event_loop),
	(wm_activate_client):
	Implement alternate optional more aggesive pinging policy needed
        for maemo. 

2006-02-05  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_get_offsets),
	(dialog_client_title_height), (dialog_client_redraw):
	* src/mbtheme-standalone.c: (theme_has_message_decor):
	* src/mbtheme-standalone.h:
	* src/mbtheme.c: (theme_has_message_decor), (theme_frame_paint):
	* src/mbtheme.h:
	* src/structs.h:
	Add support for optional alternate custom themeing for border only
        ( no title bar ) dialogs. 

2006-02-03  Matthew Allum  <mallum@openedhand.com>

	* configure.ac:
	Add a FIXME comment 
	* src/mbtheme.c: (theme_frame_paint):
	avoid freeing non existant font color on theme switch.

2006-01-24  Matthew Allum  <mallum@openedhand.com>

	* src/mbtheme.c: (mbtheme_new), (mbtheme_init):
	Add support for cache attribute in <theme> tags.
	MB_THEME_ALWAYS_CACHE env var overides. 

2006-01-19  Matthew Allum  <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_button_paint), (theme_frame_paint),
	(mbtheme_new):
	* src/mbtheme.h:
	setting MB_NO_THEME_CACHE env var turns off internal pixbuf
	cacheing ( very experimental )

2006-01-17  Matthew Allum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	* src/ewmh.c: (ewmh_init), (ewmh_set_active):
	* src/ewmh.h:
	* src/main_client.c: (main_client_show):
	* src/structs.h:
	Add basic ( set to 0 ) support for _NET_USER_TIME
	* src/mbtheme.c: (theme_frame_paint),
	(_theme_frame_menu_paint_text_entry):
	Fix wierd mb_col leak.

2006-01-05  Matthew Allum  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_init), (ewmh_update_lists):
	* src/structs.h:
	Add support for _MB_APP_WINDOW_LIST_STACKING root win prop

2005-12-27  Matthew Allum  <mallum@openedhand.com>

	* src/client_common.c: (client_set_focus),
	(client_get_transient_list):
	* src/dialog_client.c: (dialog_client_show):
	Add basic support for window grouping. 

2005-12-12  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_show):
	* src/main_client.c: (main_client_show):
	* src/structs.h:
	* src/wm.c: (wm_activate_client):
	Fix 'flash' when non top apps map dialogs.
	Fix issues with minimised dialogs not remapping.

2005-11-15  Matthew Allum  <mallum@openedhand.com>

	* src/client_common.c: (client_get_transient_list):
	* src/client_common.h:
	* src/dialog_client.c: (dialog_client_show):
	Stacking fixes for multiple groups of transient for transient dialogs.

2005-11-01  Matthew Allum  <mallum@openedhand.com>

	* src/stack.c: (stack_get_window_list), (stack_sync_to_display):
	XRestackWindows didn't include count of blocker wins in total
        window count. 

2005-10-27  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_show):
	Fix preivous blocker win borkage

2005-10-17  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_reparent):
	Dont map the blocker wins on reparenting, wait for show()

2005-10-14  Matthew Allum  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_show),
	(dialog_client_reparent), (dialog_client_iconize),
	(dialog_client_destroy):
	Add extra debug info for blocker wins

2005-10-10  mallum  <mallum@openedhand.com>

	* src/wm.c: (wm_make_new_client):
	Fix potential XGetWMHints leak

2005-10-04  mallum  <mallum@openedhand.com>

	* src/dockbar_client.c: (dockbar_client_configure):
	Small fix for east panels to get correctly positioned after
	theme switch.

2005-10-03  mallum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	* src/ewmh.c: (ewmh_get_utf8_prop), (ewmh_get_icon_prop_data):
	* src/matchbox-remote.c: (mbcommand):
	* src/mbtheme.c: (theme_frame_icon_paint), (mbtheme_init):
	* src/misc.c: (mwm_get_decoration_flags):
	* src/wm.c: (wm_handle_property_change):
	Fix GCC 4 warnings.

2005-09-29  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_show),
	(dialog_client_reparent), (dialog_client_iconize),
	(dialog_client_destroy):
	* src/stack.c: (stack_get_window_list):
	* src/structs.h:
	Fix issues with modal blocker wins breaking stack count. 

2005-09-29  mallum,,,  <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	* src/wm.c: (wm_remove_client):
	Move previous fix to safer place in code.

2005-09-29  mallum,,,  <mallum@openedhand.com>

	* src/wm.c: (wm_remove_client):
	Make sure ewmh lists get updated when closing a window.
	( regression from 2005-06-14 change )

2005-09-20  mallum,,,  <mallum@openedhand.com>

	* src/client_common.c: (client_get_wm_protocols):
	* src/wm.c: (wm_handle_property_change):
	Fix re-enabling of help/accept/custom buttons

2005-09-20  mallum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	* src/client_common.c: (client_deliver_wm_protocol):
	* src/client_common.h:
	* src/wm.c: (wm_handle_property_change):
	Add support for help/accept/custom buttons being toggled on the fly

2005-09-07  mallum  <mallum@openedhand.com>

	* src/main_client.c: (main_client_manage_toolbars_for_fullscreen):
	Add a little more debug.
	* src/wm.c: (wm_activate_client):
	Fix for making sure alt input windows get resized correctly when
        transient for a transient for root window and switching from/to
	a fullscreen to a non fullscreen app win.

2005-09-07  mallum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	Dont try and manage new clients if no memory available.
	* src/wm.c: (wm_remove_client):
	unmap before reparent to root in effort to avoid potential
	flash.

2005-08-31  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_reparent):
	* src/main_client.c: (main_client_button_press):
	* src/structs.h:
	* src/wm.c: (wm_usage), (wm_load_config):
	Add new -use_super_modal switch to enable previously default
        maemo 'aggresive' modal handling - blocking wins etc

2005-08-08  mallum,,,  <mallum@openedhand.com>

	* src/toolbar_client_alt.c: (toolbar_client_hide):
	Reparent hidden toolbar wins to current position rather than 0,0

2005-07-28  mallum,,,  <mallum@openedhand.com>

	* src/wm.c: (wm_remove_client):
	reparent 'removed' win to current pos on root rather than 0,0

2005-07-28  mallum,,,  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_state_set):
	Really clear NET_WM_STATE if no states set. 

2005-06-21  mallum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_button_press):
	Send PING even when close button is 'blocked' by modal dialog
	* src/wm.c: (wm_handle_property_change):
	print debug warning if client sets tranciency to itself

2005-06-20  mallum,,,  <mallum@openedhand.com>

	* src/wm.c: (wm_handle_configure_request), (wm_make_new_client):
	Add some more X error traps very early on in new client creation.

2005-06-19  mallum,,,  <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_menu_get_dimentions)
	Include iconized clients in select menu sizing.

2005-06-17  mallum,,,  <mallum@openedhand.com>

	* src/wm.c: (wm_handle_property_change):
	Avoid potential recursive for self tranciency changes.

2005-06-17  mallum,,,  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_update_lists), (ewmh_hung_app_check):
	* src/wm.c: (wm_usage), (wm_load_config):
	Fix compiler warning. 
        If set, use env 'MB_HUNG_APP_HANDLER' pointing at executable
	to handle hung applications rather than default killer.

2005-06-15  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_show):
	* src/main_client.c: (main_client_show):
	Make sure de iconizing a client de-iconizes transients too.

2005-06-14  mallum,,,  <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	* src/desktop_client.c: (desktop_client_unmap):
	* src/dockbar_client.c: (dockbar_client_show):
	* src/ewmh.c: (ewmh_handle_root_message):
	* src/ewmh.h:
	* src/mbtheme.c: (mbtheme_switch):
	* src/wm.c: (wm_init_existing), (wm_update_layout),
	(wm_activate_client), (wm_toggle_desktop):
	Less aggresive root window property updating.

2005-06-12  mallum,,,  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_set_current_app_window), (ewmh_hung_app_check):
	* src/ewmh.h:
	* src/wm.c: (wm_event_loop):
	Clean up ping code a little. Adding new define for frequency
	of hung app check. 

	* src/mbtheme.c: (mbtheme_switch):
	Simplify switching code a little. 

2005-06-08  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_show):
	Remove old attempted transient infinite loop fix ( 2005-06-02 )

2005-06-06  mallum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_iconize):
	* src/wm.c: (wm_handle_property_change), (wm_remove_client):
	Handle windows hiding but not always unmapping there windows.
	Fixes 'ghost' windows when quicking hiding/showing a GTK win.

2005-06-03  mallum,,,  <mallum@openedhand.com>

	* src/wm.c: (wm_handle_property_change):
	Dont let windows change transiency to themselves.

2005-06-02  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	* src/dialog_client.c: (dialog_client_show):
	avoid potential infinite loop from transiant race?  

2005-05-26  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	Bump up version to 0.9.5

2005-05-25  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_reparent):
	Possible fix for odd dissapearing firefox prefs window bug.

2005-05-24  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_init_geometry),
	(dialog_client_configure):
	* src/wm.c: (wm_make_new_client):
	Fix broken login so menu's really can position at 0,0 this time.

2005-05-24  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_check_for_state_hints),
	(dialog_init_geometry):
	* src/structs.h:
	* src/wm.c: (wm_make_new_client):
	Dont center 'menu' dialogs if initial position is 0,0

2005-05-20  mallum,,,  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_state_set):
	* src/wm.c: (wm_make_new_client):
	Avoid trashing unsupported state hints.

2005-05-17  mallum,,,  <mallum@openedhand.com>

	* src/wm.c: (wm_usage):
	Rejig usage info a little.

2005-05-12  mallum,,,  <mallum@openedhand.com>

	* src/matchbox-remote.c: (usage), (main):
	* src/structs.h:
	* src/wm.c: (wm_handle_client_message):
	Add 2 new simple switches to matchbox-remote, one too toggle
	compositor and one to force reload of key shortcuts.

2005-05-11  mallum,,,  <mallum@openedhand.com>

	* src/toolbar_client.c: (toolbar_client_reparent):
	* src/wm.c: (wm_remove_client), (wm_update_layout):
	Clear up some more ( final? ) X Errors.
	Speed up app window resizes caused by horizonal
	panels/toolbars by avoiding uneeded repaints.

2005-05-11  mallum,,,  <mallum@openedhand.com>

	* data/themes/Default/theme.xml:
	* data/themes/MBOpus/theme.xml:
	* data/themes/blondie/theme.xml:
	Tweak+add basic rough toolbar decorations to keep
	old apps happy that still use decorated toolbars. 

2005-05-11  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	minor cleanups, remove xsync enable
	* src/session.c: (sm_save_yourself_cb):
	Fix things enough to avoid gnome-session hanging.
	Support still very basic and incomplete.

2005-05-11  mallum,,,  <mallum@openedhand.com>

	* src/session.c: (sm_save_yourself_cb), (sm_die_cb),
	(sm_shutdown_cancelled_cb), (sm_connect):
	* src/session.h:
	* src/structs.h:
	* src/wm.c: (wm_new), (wm_usage), (wm_load_config),
	(wm_find_client), (get_xevent_timed):
	Fix up session support some more.

2005-05-05  mallum,,,  <mallum@openedhand.com>

	* src/client_common.c: (client_set_focus):
	* src/ewmh.c: (ewmh_init), (ewmh_set_active):
	* src/ewmh.h:
	* src/structs.h:
	* src/wm.c: (wm_activate_client):
	Fix _NET_ACTIVE_WIN to not be set to just app wins.
	Add _MB_CURRENT_APP_WINDOW to do old behaviour.
	* src/dialog_client.c: (dialog_client_set_focus_next):
	Fix focusing when non focused dialog is closed

2005-04-28  mallum,,,  <mallum@openedhand.com>

	* src/session.c: (sm_save_yourself_cb):
	Add some very basic registration info with session manager

2005-04-28  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	* src/Makefile.am:
	* src/session.c:
	* src/session.h:
	* src/structs.h:
	* src/wm.c: (wm_new), (wm_find_client), (wm_event_loop):
	* src/wm.h:
	Add basic initial support for connecting to session managers.
	It currently just connects, should avoid hang when started
	by gnome-session.

2005-04-26  mallum,,,  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_handle_root_message):
	Fix for activate client message being sent to an non topped
        app dialog window and no effect happerning. 
        Makes GNOME task selector work nicer with MB.

2005-04-26  mallum,,,  <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_icon_paint):
	Fix potential segv if app sets ewmh icon smaller than 16x16

2005-04-26  mallum,,,  <mallum@openedhand.com>

	* src/toolbar_client.c: (toolbar_client_move_resize),
	(toolbar_client_reparent):
	Fix a couple of toolbar related X Error warnings

2005-04-16  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	Throw an error if AC_PATH_XTRA comes up empty

2005-04-11 Relased 0.9.4 

2005-04-11  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	Bump up version to 0.9.4

2005-04-07  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_set_focus_next):
	Possible fix for odd focus crasher

2005-04-07  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_get_available_area):
	* src/main_client.c: (main_client_manage_toolbars_for_fullscreen):
	* src/toolbar_client_alt.c: (toolbar_client_configure):
	Make sure alt input trans for dialog but on top of fullscreen
	app get resized correctly on fullscreen toggle.
	Make sure dialogs get positioned correctly for fullscreen with
	alt input.

2005-03-30  mallum,,,  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new), (base_client_process_name):
	* src/ewmh.c: (ewmh_update_lists):
	* src/mbtheme.c: (mbtheme_init):
	* src/misc.c: (fork_exec):
	* src/wm.c: (wm_sn_exec):
	Fixes via Andreas Gunnarsson for bugs 117-121. Includes mainly
	potential overflow fixes + warnings on openBSD. 

	* src/toolbar_client_alt.c: (toolbar_client_new),
	(toolbar_client_move_resize):
	Extra debug statements

2005-03-16  mallum,,,  <mallum@openedhand.com>

	* src/base_client.h:
	* src/matchbox-remote.c:
	* src/structs.h:
	* src/xml.c:
	Add _GNU_SOURCE to work round x11.pc setting -DX_OPENSOURCE

2005-03-11  mallum,,,  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	* src/composite-engine.c: (_render_a_client),
	(comp_engine_destroy_root_buffer), (comp_engine_render):
	* src/dialog_client.c: (dialog_client_reparent):
	* src/wm.c: (wm_handle_map_notify):
	Fix composite lowlighting with blocker win.
	Also make modal for root dialogs lowlight entire display.

2005-03-01  mallum  <mallum@openedhand.com>

	* src/toolbar_client_alt.c: (toolbar_client_show):
	Attempt for lessening potential dekstop flash on mapping input win
	* src/wm.c: (wm_activate_client):
	Fix stacking order for transient for desktop dialogs

2005-02-28  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_button_press):
	Fix for static mode dialogs losing focus when hidden via title
	bar click.

2005-02-23  mallum,,,  <mallum@openedhand.com>

	* src/keys.c: (keys_add_entry), (keys_load_config):
	* src/structs.h:
	Backed held key code out. Seems very difficult todo
	sanely due to the way X does keyrepeats. Maybe battle
	again another day.

2005-02-23  mallum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_configure):
	Refix fullscreen toggling for non alt input windows

2005-02-23  mallum,,,  <mallum@openedhand.com>

	* src/structs.h:
	* src/keys.c: (keys_add_entry), (keys_load_config):
	Initial work on supporting 'held' keys - config can now be parsed.
	* src/main_client.c: (main_client_configure):
	Fix for toolbars affecting app size when toggling fullscreen. 

2005-02-22  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_reparent),
	(dialog_client_redraw), (dialog_client_drag):
	More composite lowlighting related tweaks

2005-02-22  mallum,,,  <mallum@openedhand.com>

	* src/composite-engine.c: (_render_a_client):
	Force composite lowlighting *off* for now. Needs fixing. 

2005-02-22  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_get_available_area):
	Fix dialog positioning for fullscreen windows
	* src/toolbar_client.c: (toolbar_client_new):
	Fix toolbar wins getting in correctly handled between
	mb wm restarts.

2005-02-21  mallum,,,  <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	* src/ewmh.c: (ewmh_update_rects):
	* src/misc.c:
	More XError trapping;
	Add debug statements so we no when traps are in place.
	Do an XSync before untrapping on destroy call, to flush
	an errors through.

2005-02-18  mallum,,,  <mallum@openedhand.com>

	* src/stack.c: (stack_sync_to_display):
	* src/toolbar_client_alt.c: (toolbar_client_destroy):
	Trap some more X Errors

2005-02-18  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_get_available_area),
	(dialog_constrain_geometry):
	* src/toolbar_client_alt.c: (toolbar_client_new),
	(toolbar_win_offset), (toolbar_client_configure):
	Fix alternative toolbar repositioning dialog. 
	Also add some more debug statements. 

2005-02-18  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_redraw),
	(dialog_client_button_press):
	Support 'custom' buttons on dialogs.

2005-02-17  mallum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_button_press):
	Disable app close button in presence of modal app
	* src/wm.c: (wm_handle_keypress):
	Fix topping of single instance apps

2005-02-16  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_reparent):
	Add colormap to frames so argb wins work again
	* src/main_client.c: (main_client_button_press):
	Ignore minimise buttons in presence of modal dialog

2005-02-08  0.9.3 Released

2005-02-08  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	Bump up version to 0.9.3

2005-02-08  mallum  <mallum@openedhand.com>

	* src/client_common.c: (client_get_state):
	* src/toolbar_client_alt.c: (toolbar_client_hide):

2005-02-08  mallum  <mallum@openedhand.com>

	* src/mbtheme.c:
	Fix press only buttons

2005-01-31  mallum,,,  <mallum@openedhand.com>

	* src/wm.c: (wm_load_config):
	Added missing memset to wm config struct.

2005-01-31  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_iconize):
	Fix for focus_next type causing segv

2005-01-28  mallum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_iconize):
	Fix broken minimizing on main clients

2005-01-24 0.9.2 Release

2005-01-24  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	* data/themes/MBOpus/Makefile.am:
	Packaging snafu.

2005-01-24 0.9.1

2005-01-23  mallum,,,  <mallum@openedhand.com>

	* src/mbtheme-standalone.c: (_draw_button),
	(_theme_paint_pixmap_border), (theme_frame_paint), (mbtheme_new):
	* src/mbtheme-standalone.h:
	Tweak the standalone 'theme' a little. 

2005-01-21  mallum,,,  <mallum@openedhand.com>

	* data/themes/Default/theme.xml:
	offset shadow a little more.
	* src/wm.c: (wm_handle_client_message):
	debug statement added for toggling compositor.

2005-01-21  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_button_press):
	Only hide dialog in static mode if title bar clicked, not
	side/bottom decorations.

2005-01-19  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_iconize):
	* src/main_client.c:
	* src/toolbar_client_alt.c: (toolbar_client_hide):
	Make sure iconizing, iconizes any transients too.

2005-01-18  mallum,,,  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_init):
	* src/structs.h:
	* src/wm.c: (wm_make_new_client):
	Make _MB_WM_WINDOW_TYPE_MESSAGE work again.
	This is a workaround as it seems GTK2 cannot set
	the XUrgency flag.

2005-01-17  mallum,,,  <mallum@openedhand.com>

	* src/ewmh.c: (ewmh_handle_root_message):
	* src/wm.c: (wm_handle_configure_request):
	Allow window stacking changes for dialogs vai _NET_STATE_ABOVE
	changing and a window raising itself. 

2005-01-14  mallum,,,  <mallum@openedhand.com>

	* data/kbdconfig:
	Change mbcontrol -> matchbox-remote
	* src/mbtheme.c: (mbtheme_init):
	* src/misc.c: (handle_xerror):
	* src/wm.c: (wm_usage), (wm_load_config):
	Update err strings from matchbox -> matchbox-wm

2005-01-14  mallum,,,  <mallum@openedhand.com>

	* data/themes/MBOpus/Makefile.am:
	* data/themes/MBOpus/theme.desktop:
	* data/themes/MBOpus/theme.xml:
	Update MBOpus theme. Also add png bg for panel.

	* src/base_client.c: (base_client_new):
	Add some extra debug info for XUrgencyFlag checking

2005-01-13  mallum,,,  <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_button_paint),
	(parse_frame_layer_tag), (mbtheme_free):
	* src/mbtheme.h:
	Free up toolbar panel params on theme switch.
	Reformat a little.

	* src/toolbar_client_alt.c: (toolbar_client_reparent):
	Remove stray old removed client* ref causing breakage.

2005-01-12  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	* data/themes/Default/Makefile.am:
	* data/themes/Default/acceptbutton.xpm:
	* data/themes/Default/closebutton.xpm:
	* data/themes/Default/menubutton.xpm:
	* data/themes/Default/theme.desktop:
	* data/themes/Default/theme.xml:
	* data/themes/MBOpus/Makefile.am:
	* data/themes/MBOpus/theme.desktop:
	* data/themes/MBOpus/theme.xml:
	* data/themes/Makefile.am:
	Add new themes 

	* src/structs.h:
	Set Default theme to 'Default'

2005-01-12  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_move_resize),
	(dialog_client_reparent), (dialog_client_set_focus_next),
	(dialog_client_iconize), (dialog_client_destroy):
	* src/stack.c: (stack_get_window_list):
	* src/structs.h:
	Add initial support for 'forcing' modility on transient for
        root modal dialogs. 

	* src/main_client.c: (main_client_button_press):
	* src/mbtheme.c: (theme_frame_button_paint):
	Fix bug in buttons having the backgrounds wrong.  

2005-01-10  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_reparent),
	(dialog_client_destroy):
	Dont set colormap on dialogs. For some odd reason causes
	firefox dialogs to break. Needs more looking into. 
	Clean up compile warning. 

2005-01-10  mallum,,,  <mallum@openedhand.com>

	* data/kbdconfig:
	Add saner defaults to keyboard shortcut config.
	Also add some more info to the file. 

2005-01-10  mallum,,,  <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_button_paint):
	Fix typo break composite builds.

2005-01-10  mallum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_destroy):
	* src/structs.h:
	* src/wm.c: (wm_event_loop), (wm_make_new_client):
	* src/wm.h:
	Removal of _MESSAGE and message queue code. ICCCM urgency hint
	should now be used instead.

2005-01-10  mallum,,,  <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	* src/ewmh.c: (ewmh_init):
	* src/mbtheme.c: (theme_frame_paint):
	* src/structs.h:
	* src/wm.c: (wm_handle_property_change):
	Remove support of MB only SUBNAME property. 

2005-01-10  mallum,,,  <mallum@openedhand.com>

	* src/client_common.c: (client_button_init), (client_button_new):
	* src/client_common.h:
	* src/mbtheme.c: (theme_frame_button_paint):

	Redo button themeing and painting code. Making smaller and slightly
	easier to understand.

2005-01-07  mallum,,,  <mallum@openedhand.com>

	* src/mbtheme.c: (mbtheme_switch):
	Fix Segv for changing theme with no managed clients.

2005-01-06  mallum,,,  <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_icon_paint),
	(theme_frame_button_paint), (_theme_paint_gradient),
	(_theme_paint_core), (theme_frame_paint),
	(theme_frame_menu_get_dimentions),
	(_theme_frame_menu_paint_text_entry),
	(theme_frame_menu_highlight_entry), (theme_frame_menu_paint),
	(theme_frame_button_get_x_pos), (theme_frame_defined_width_get),
	(theme_frame_defined_height_get), (theme_img_cache_clear_all),
	(get_attr), (lookup_button_action),
	(mbtheme_button_press_activates), (mbtheme_button_new):
	Minor initial Cleanup of themeing code.
	Also add fast path for gradients that arn't gradients

2005-01-06  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	Only build an standalone build if specifically requested,
	otherwise if libmb is not found through a useful error.

2005-01-05  Ross Burton  <ross@burtonini.com>

	* src/wm.c:
	Change the direction the default cursor points in, do avoid
	driving Ross insane.

2005-01-04  0.9 Released.

2005-01-04  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	Bump up version to 0.9

2004-12-23  mallum,,,  <mallum@openedhand.com>

	* src/client_common.c: (client_set_focus),
	(client_decor_frames_move_resize), (client_decor_frames_init):
	* src/dialog_client.c: (dialog_client_reparent):
	Clean up some X Errors - woohoo.

2004-12-23  mallum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_show):
	Make sure closed app goes back to desktop correctly even after app
	has opened. 

	* src/toolbar_client.c: (toolbar_client_show),
	(toolbar_client_redraw):
	Try and fix composite not updating properly when dialog resized
	via toolbar. 

	* src/wm.c: (wm_handle_configure_request):
	repaint resized dialogs

2004-12-23  mallum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_manage_toolbars_for_fullscreen):
	Max sure toolbar for fullscreen window is resized correctly on toggle.

	* src/matchbox-remote.c: (mbcommand), (send_input_manager_request),
	(usage), (main):
	Add new option for toggling input manager method

2004-12-23  mallum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_reparent):
	Fix frames getting set up right for fullscreen windows

2004-12-20  mallum <mallum@openedhand.com>

	* data/Makefile.am:
	* src/Makefile.am:
	* src/keys.c: (keys_load_config):
	Move kdbconfig to /etc/matchbox so more visible. 

2004-12-20  mallum <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_icon_paint), (_theme_paint_gradient):
	Fixups for new 16bpp pixbuf stuff

2004-12-15  mallum,,,  <mallum@openedhand.com>

	* configure.ac:
	Add some more info to --enable-* options

	* src/mbtheme-standalone.c: (theme_frame_button_paint),
	(theme_has_message_decor):
	* src/mbtheme-standalone.h:
	* src/mbtheme.c: (theme_frame_button_paint):
	* src/mbtheme.h:
	* src/structs.h:
	* src/wm.c: (wm_handle_configure_notify), (wm_update_layout):
	Kill pixmap cache if main win is resized ( by layout change )

	* src/toolbar_client.c: (toolbar_client_reparent),
	(toolbar_client_show), (toolbar_client_hide),
	(toolbar_client_redraw):
	Fix toolbars painting there buttons.

2004-12-14  mallum <mallum@openedhand.com>

	* src/mbtheme.c: (theme_frame_paint),
	(theme_frame_defined_width_get), (theme_frame_defined_height_get),
	(theme_img_cache_clear), (theme_img_cache_clear_all),
	(parse_shadow_tag), (mbtheme_new):
	* src/mbtheme.h:
	* src/structs.h:
	Implement a new pixmap cache that caches pixmaps for east/west/south
	app window decorations. 

	* src/wm.c: (wm_handle_configure_notify):
	Clear *all* caches or a display size change/rotation 

2004-12-10  mallum <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	Call XDestroySubWindows() for frame decor wins, thus avoiding
	some X Errors.

	* src/dialog_client.c: (dialog_client_redraw):
	Minor cleanup

2004-12-10  mallum <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_constrain_geometry),
	(dialog_init_geometry):
	Position decorationless centered if and only if 0,0
	initial position. 

	* src/wm.c: (wm_handle_button_event):
	Dont try and forward button events onto window decor if
	already handled for app child window.

2004-12-09  mallum  <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	Trap X errors. 

	* src/client_common.c: (client_want_focus),
	(client_decor_frames_move_resize), (client_decor_frames_init):
	Remove uneeded calls. Trap errors in want focus.  

	* src/stack.c: (stack_get_above), (stack_get_below):
	Add some commenting.

	* src/main_client.c: (main_client_redraw), (main_client_hide),
	(main_client_unmap):
	* src/wm.c: (wm_handle_unmap_event), (wm_handle_property_change),
	(wm_activate_client), (wm_get_offsets_size), (wm_toggle_desktop):
	Focus/desktop handling fixes. Trap some more X errors. 

2004-12-09  mallum <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	* src/client_common.c: (client_decor_frames_init):
	* src/dialog_client.c: (dialog_client_redraw):
	* src/mbtheme-standalone.c: (theme_frame_button_paint),
	(_theme_paint_pixmap_border), (theme_frame_paint),
	(_theme_frame_menu_paint_text_entry), (theme_frame_menu_paint):
	* src/mbtheme-standalone.h:
	* src/structs.h:
	Fix up standalone builds for new lower memory decoration code.

2004-12-09  mallum <mallum@openedhand.com>

	* configure.ac:
	* src/wm.c: (wm_usage), (wm_load_config):
	Minor tweaks to XRM option layout. 

	* src/base_client.c: (base_client_new), (base_client_move_resize),
	(base_client_destroy):
	* src/client_common.c: (client_decor_frames_init):
	* src/client_common.h:
	* src/dialog_client.c: (dialog_client_redraw):
	* src/main_client.c: (main_client_reparent), (main_client_redraw),
	(main_client_button_press), (main_client_toggle_title_bar):
	* src/mbtheme.c: (theme_frame_button_paint), (_theme_paint_core),
	(theme_frame_paint), (theme_frame_menu_get_dimentions),
	(_theme_frame_menu_paint_text_entry),
	(theme_frame_menu_highlight_entry), (theme_frame_menu_paint):
	* src/mbtheme.h:
	* src/select_client.c: (select_client_new), (select_client_redraw):
	* src/structs.h:
	* src/toolbar_client.c: (toolbar_client_move_resize),
	(toolbar_client_reparent), (toolbar_client_show),
	(toolbar_client_redraw):
	For new lower server memory frame decorations:
	    - Fix decoration button rendering.
	    - Fix toolbars, task menu to use new mechansim.
	    - Remove uneeded pixbuf caching.
	    - Remove older 'backing' code and references.


2004-12-08  mallum <mallum@openedhand.com>

	* src/base_client.c: (base_client_new):
	* src/client_common.c: (client_get_highest_transient):
	* src/client_common.h:
	* src/dialog_client.c: (dialog_client_move_resize),
	(dialog_client_reparent), (dialog_client_redraw),
	(dialog_client_drag):
	* src/main_client.c: (main_client_reparent),
	(main_client_move_resize), (main_client_redraw):
	* src/mbtheme.c: (theme_frame_button_paint), (theme_frame_paint),
	(mbtheme_switch):
	* src/structs.h:
	* src/wm.c: (wm_find_client), (wm_handle_button_event):
	Add Initial support for new lower server memory frame decorations.
	Composite and standalone will likely be BROKEN atm. 
	Also avoid refocusing dialog if it already has focus.

2004-12-07  Ross Burton  <ross@openedhand.com>

	* configure.ac:
	Add an option to disable use of Xrm.
	
	* src/wm.c:
	When Xrm is disabled, use a simple command line parser.
	
2004-12-01  mallum <mallum@handhelds.org>

	* src/composite-engine.c: (comp_engine_client_get_trans_prop):
	Change old atoms[INTEGER] to XA_INTEGER 

2004-11-30  mallum <mallum@handhelds.org>

	* configure.ac:
	Bump Version.
	* src/base_client.c: (base_client_new), (base_client_destroy):
	* src/base_client.h:
	* src/client_common.c:
	* src/client_common.h:
	* src/composite-engine.c: (comp_engine_client_configure),
	(_render_a_client), (comp_engine_render):
	* src/composite-engine.h:
	* src/desktop_client.c:
	* src/desktop_client.h:
	* src/dialog_client.c: (dialog_client_new),
	(dialog_client_check_for_state_hints),
	(dialog_client_button_press), (dialog_client_set_focus_next),
	(dialog_client_iconize), (dialog_client_destroy):
	* src/dialog_client.h:
	* src/dockbar_client.c:
	* src/dockbar_client.h:
	* src/ewmh.c: (ewmh_init), (sync_value_increment),
	(ewmh_sync_init), (ewmh_sync_handle_event),
	(ewmh_sync_client_move_resize), (ewmh_sync_client_init_counter):
	* src/ewmh.h:
	* src/keys.c:
	* src/keys.h:
	* src/list.c:
	* src/list.h:
	* src/main.c:
	* src/main_client.c: (main_client_configure),
	(main_client_move_resize), (main_client_toggle_fullscreen),
	(main_client_button_press):
	* src/main_client.h:
	* src/matchbox-remote.c:
	* src/mbtheme-standalone.c:
	* src/mbtheme-standalone.h:
	* src/mbtheme.c:
	* src/mbtheme.h:
	* src/misc.c:
	* src/misc.h:
	* src/select_client.c:
	* src/select_client.h:
	* src/stack.c:
	* src/stack.h:
	* src/structs.h:
	* src/toolbar_client.c:
	* src/toolbar_client.h:
	* src/toolbar_client_alt.c: (toolbar_client_hide):
	* src/wm.c: (wm_event_loop), (wm_handle_configure_notify):
	* src/wm.h:
	* src/xml.c:
	* src/xml.h:
	Update copyright on all files.
	Add initial _NET_WM_SYNC support ( not working ).
	Tweak alternative toolbar behaviour. 

2004-11-19  mallum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_activate_client):
	* src/desktop_client.c: (desktop_client_new):
	Fixes for decorated desktop mode
	* src/main.c: (main):
	Add call to XSyncronize() is MB_SYNC env var set. 

2004-11-19 0.9rc2 released. 

2004-11-19  mallum,,,  <mallum@handhelds.org>

	* configure.ac:
	Bump versison to 0.9rc2

2004-11-18  mallum,,,  <mallum@handhelds.org>

	* src/ewmh.c: (ewmh_init):
	Add Transient atoms
	* src/structs.h:
	* src/wm.c: (wm_load_config), (wm_handle_configure_request),
	(wm_handle_unmap_event), (wm_handle_property_change),
	(wm_remove_client):
	Fix ordering of actions when handling window unmapping, avoids
	odd problems with GTK transients and GDK X Errors
	Make handle_configure_request more ICCCM compliant.
	Handle clients changing transient property.
	Remove AWT workaround. 

	* src/toolbar_client_alt.c: (toolbar_client_show),
	(toolbar_client_hide):
	Remove compiler warning. 

2004-11-18  mallum,,,  <mallum@handhelds.org>

	* src/main_client.c: (main_client_manage_toolbars_for_fullscreen),
	(main_client_unmap):
	* src/toolbar_client_alt.c: (toolbar_client_configure),
	(toolbar_client_show), (toolbar_client_redraw):
	* src/wm.c: (wm_update_layout), (wm_activate_client):
	More alternative toolbar/input window work.
	Now works with fullscreen correctly + repositions dialogs ok. 

2004-11-18  mallum,,,  <mallum@handhelds.org>

	* src/base_client.c: (base_client_new), (base_client_process_name),
	(base_client_destroy):
	* src/desktop_client.c: (desktop_client_unmap):
	Reduce some bogus X Errors. 

	* src/ewmh.c: (ewmh_update_lists):
	* src/list.c: (list_add), (list_find_by_id), (list_find_by_name),
	(list_remove):
	* src/list.h:
	* src/mbtheme-standalone.c: (theme_frame_menu_paint):
	* src/mbtheme.c: (theme_frame_menu_paint):
	* src/structs.h:
	* src/wm.c: (wm_handle_unmap_event):
	Add a new sperate 'age' based client list for non stack ordered
	propertys. May not keep this code, not sure if needed. 

2004-11-17  mallum,,,  <mallum@handhelds.org>

	* configure.ac:
	* src/Makefile.am:
	* src/base_client.c: (base_client_destroy):
	* src/main_client.c: (main_client_manage_toolbars_for_fullscreen):
	* src/structs.h:
	* src/toolbar_client.c:
	* src/toolbar_client_alt.c: (toolbar_client_new),
	(toolbar_win_offset), (toolbar_client_configure),
	(toolbar_client_move_resize), (toolbar_client_reparent),
	(toolbar_client_show), (toolbar_client_hide),
	(toolbar_client_destroy), (toolbar_client_redraw):
	Add initial alternative input/toolbar window code. 

	* src/stack.c: (stack_get_type_list),
	(stack_move_type_above_client):
	Fix possible infinite loop.

	* src/wm.c: (wm_new), (wm_usage):
	Minor cleanup - remove old PANGO defines. 

2004-11-17  mallum  <mallum@handhelds.org>

	* src/main_client.c: (main_client_hide), (main_client_iconize),
	(main_client_show), (main_client_unmap):
	Avoid focus related crash - w->focused_client left pointing to
	non existant client.
	Make uniconizing slightly more efficient.

	* src/toolbar_client.c: (toolbar_client_reparent):
	Set background as grey pixel

2004-11-16  mallum <mallum@handhelds.org>

	* src/xml.c:
	Really free up parsed params for non expat parser. 
	Should fix bug #100

2004-11-16  mallum,,,  <mallum@handhelds.org>

	* src/main_client.c: (main_client_show):
	Make uniconized main clients set correct state
	* src/wm.c: (wm_handle_button_event):
	Dont try and set main app focus if task menu is active ( crasher )

2004-11-15 0.9rc1 released. 

2004-11-15  mallum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_handle_configure_request), (wm_make_new_client):
	* src/dialog_client.c: (dialog_client_get_offsets),
	(dialog_client_title_height), (dialog_client_redraw):
	Tweak configure request event handling a little.

	* src/mbtheme-standalone.c: (theme_has_message_decor):
	* src/mbtheme-standalone.h:
	* src/mbtheme.c: (theme_has_message_decor):
	* src/mbtheme.h:
	Make message window decor fall back to normal dialog decor 
	if none defined in theme.

2004-11-12  mallum,,,  <mallum@handhelds.org>

	* src/client_common.c: (client_get_transient_list):
	Fixes for stacking dialogs transient for transient .. for root. 
	
	* src/desktop_client.c: (desktop_client_show):
	* src/dockbar_client.c: (dockbar_client_show):
	* src/stack.c: (stack_prepend_bottom),
	(stack_move_client_above_type), (stack_move_above_client),
	(stack_move_type_above_client), (stack_cycle_forward),
	(stack_cycle_backward), (stack_add_below_client),
	(stack_move_type_below_client), (stack_move_below_client),
	(stack_move_below_type), (stack_update_transients),
	(stack_move_above_extended):
	* src/stack.h:
	* src/toolbar_client.c: (toolbar_client_show):
	* src/wm.c: (wm_activate_client):
	Refactor stack 'api' making code much smaller

2004-11-12  mallum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_destroy):
	* src/structs.h:
	* src/wm.c: (wm_event_loop), (wm_make_new_client),
	(wm_msg_win_queue_add), (wm_msg_win_queue_pop),
	(wm_msg_win_queue_process):
	* src/wm.h:
	Re-add message window queueing code and old message hint. 
	Fix segv on dialog closing with no 'focus' history. 

2004-11-11  mallum,,,  <mallum@handhelds.org>

	* src/main_client.c: (main_client_unmap):
	Fix possible segv in w->stack_top_app ending up pointing
	to rubbish.
	* src/wm.c: (wm_activate_client):
	Fix dialogs *always* covering panels.

2004-11-11  mallum,,,  <mallum@handhelds.org>

	* src/dialog_client.h:
	Add missing prototype.
	* src/dialog_client.c: (dialog_client_show):
	* src/stack.c: (stack_move_transients_to_top):
	* src/wm.c: (wm_activate_client):
	Add support for _NET_WM_STATE_ABOVE to dialog stacking
	Make urgent wins non transient for root stack lower. 

2004-11-11  mallum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_check_for_state_hints),
	(dialog_client_button_press):
	* src/wm.c: (wm_handle_button_event):
	Make -use_dialog_mode static windows breaifly hide when
        titlebar is clicked on. So 'see through' kind of.

2004-11-10  mallum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_constrain_geometry):
	Rename dialog_check_geometry

	* src/client_common.c: (client_set_focus):
	* src/wm.c: (wm_handle_configure_request),
	(wm_handle_expose_event), (wm_update_layout):
	Add more commenting.

2004-11-10  mallum <mallum@handhelds.org>

	* COMPLIANCE:
	Update a little. 

	* src/base_client.c: (base_client_new), (base_client_process_name),
	(base_client_hide), (base_client_show), (base_client_destroy):
	* src/client_common.c: (client_deliver_config),
	(client_deliver_delete), (client_set_focus),
	(client_get_transient_list), (client_button_do_ops):
	* src/dialog_client.c: (dialog_client_check_for_state_hints),
	(dialog_client_hide), (dialog_client_show), (dialog_client_redraw),
	(dialog_client_drag), (dialog_client_destroy):
	* src/dockbar_client.c: (dockbar_client_show),
	(dockbar_client_destroy):
	* src/ewmh.c: (ewmh_handle_root_message), (ewmh_state_check):
	* src/keys.c: (keys_init):
	* src/main_client.c: (main_client_configure),
	(main_client_move_resize), (main_client_toggle_fullscreen),
	(main_client_iconize), (main_client_show), (main_client_unmap),
	(main_client_destroy):
	* src/select_client.c: (select_client_new),
	(select_client_event_loop):
	* src/stack.c: (stack_move_transients_to_top), (stack_dump),
	(main):
	* src/wm.c: (wm_handle_configure_request), (wm_handle_unmap_event),
	(wm_make_new_client), (wm_activate_client):
	Eeek, another massive commit. Mainly just cleanups - removal
	of #if 0's, more commenting, remove dialog defines. 

2004-11-10  mallum,,,  <mallum@handhelds.org>

	* configure.ac:
	Remove message win enable. Add input win enable. Bump up version
	* src/base_client.c: (base_client_new):
	* src/structs.h:
	* src/wm.c: (wm_new), (wm_usage), (wm_load_config),
	(wm_find_client), (wm_handle_map_notify), (wm_event_loop),
	(wm_handle_button_event), (wm_handle_keypress),
	(wm_handle_configure_notify), (wm_handle_configure_request),
	(wm_handle_expose_event), (wm_handle_client_message),
	(wm_handle_property_change), (wm_win_force_dialog),
	(wm_make_new_client), (wm_remove_client), (wm_update_layout),
	(wm_activate_client), (wm_get_offsets_size), (wm_toggle_desktop),
	(wm_set_cursor_visibility), (wm_sn_exec), (wm_sn_cycle_update_xid),
	(wm_lowlight):
	Clean wm.c up. Move some functionality into base_client_new()

2004-11-09  mallum,,,  <mallum@handhelds.org>

	* src/composite-engine.c: (comp_engine_render):
	* src/dialog_client.c: (dialog_client_check_for_state_hints),
	(dialog_client_drag):
	Composite engine tweaks for new api

	* src/misc.c: (handle_xerror):
	Add missing newline

	* src/wm.c: (wm_make_new_client):
	Remove possible segv in dodgy dbg statement

2004-11-09  mallum <mallum@handhelds.org>

	* src/misc.c: (handle_xerror):
	Fix silly mistake in xerror handler causing random segfaults	      

2004-11-08  mallum  <mallum@handhelds.org>

	* src/composite-engine.c: (client_win_extents), (_render_a_client),
	(comp_engine_render):
	* src/dialog_client.c: (dialog_client_check_for_state_hints),
	(dialog_client_move_resize), (dialog_client_show):
	* src/stack.c: (stack_move_transients_to_top):
	* src/structs.h:
	* src/wm.c: (wm_handle_map_notify), (wm_activate_client):
	Compositor now at least compiles again. 
	Doesn't work 100% as yet ( crashes ).
	Basic support for reading _NET_WM_STATE_ABOVE hint added. 

2004-11-07  mallum,,,  <mallum@handhelds.org>

	* src/structs.h:
	* src/ewmh.c: (ewmh_init):
	Add state_above hint.

	* src/misc.c: (fork_exec), (sig_handler), (handle_xerror),
	(ignore_xerror), (mwm_get_decoration_flags):
	* src/wm.c: (wm_new), (wm_load_config):
	Minor clean up of misc.c. Remove err() call.
	
	* src/xml.c: (list_add_node), (xml_node_new):
	* src/xml.h:
	Minor cleanup of xml.c . Remove xml_dump() 

2004-11-02  mallum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_make_new_client):
	Make new clients get decorations drawn before mapping.

2004-11-02  mallum,,,  <mallum@handhelds.org>

	* src/base_client.c: (base_client_new), (base_client_show):
	* src/client_common.c: (client_get_transient_list),
	(client_get_highest_transient):
	* src/client_common.h:
	* src/dialog_client.c: (dialog_client_new),
	(dialog_client_get_offsets), (dialog_client_title_height),
	(dialog_client_show), (dialog_get_available_area),
	(dialog_check_geometry), (dialog_init_geometry),
	(dialog_client_redraw), (dialog_client_button_press),
	(dialog_client_drag), (dialog_client_destroy):
	* src/mbtheme-standalone.c: (theme_frame_menu_paint),
	(theme_frame_menu_get_dimentions):
	* src/stack.c: (stack_move_transients_to_top):
	* src/stack.h:
	* src/toolbar_client.c: (toolbar_client_configure),
	(toolbar_client_reparent), (toolbar_client_show),
	(toolbar_client_hide), (toolbar_client_destroy),
	(toolbar_client_button_press), (toolbar_client_redraw):
	* src/wm.c: (wm_new), (wm_usage), (wm_event_loop),
	(wm_handle_keypress), (wm_handle_client_message),
	(wm_make_new_client), (wm_activate_client),
	(wm_sn_monitor_event_func), (wm_lowlight):

	Fix standalone + startup notification builds.
	Initial implimentation of 'msg' wins via urgent flag with
	correct stacking. 
	Make matchbox-remote theme switching work again

2004-11-01  mallum,,,  <mallum@handhelds.org>

	* src/client_common.c: (client_set_focus):
	* src/dialog_client.c: (dialog_client_destroy):
	* src/wm.c: (wm_handle_button_event), (wm_activate_client):
	More focus model fixes.

	* src/mbtheme-standalone.c: (theme_frame_menu_paint),
	(theme_frame_menu_get_dimentions):
	Update standalone build a little for newer internals

2004-11-01  mallum,,,  <mallum@handhelds.org>

	* src/base_client.c: (base_client_new), (base_client_process_name),
	(base_client_move_resize), (base_client_hide), (base_client_show),
	(base_client_destroy):
	* src/client_common.c: (client_want_focus), (client_set_focus),
	(client_get_transient_list):
	* src/client_common.h:
	* src/composite-engine.c: (comp_engine_deinit),
	(comp_engine_reinit), (comp_engine_client_init),
	(comp_engine_client_show), (comp_engine_client_destroy),
	(comp_engine_client_configure):
	* src/desktop_client.c: (desktop_client_new),
	(desktop_client_show):
	* src/dialog_client.c: (dialog_client_new), (dialog_client_show),
	(dialog_client_destroy):
	* src/ewmh.c: (ewmh_hung_app_check):
	* src/main_client.c: (main_client_check_for_single),
	(main_client_hide), (main_client_show):
	* src/main_client.h:
	* src/mbtheme.c: (mbtheme_switch):
	* src/structs.h:
	* src/toolbar_client.c: (toolbar_client_show):
	* src/wm.c: (wm_new), (wm_find_client), (wm_handle_button_event),
	(wm_make_new_client), (wm_update_layout), (wm_activate_client),
	(wm_get_offsets_size):
	More misc cleanups
	Dialog stacking fixes
	Implement new intelligent focus model.

2004-10-29  mallum <mallum@handhelds.org>

	* src/desktop_client.c: (desktop_client_show):
	* src/main_client.c: (main_client_redraw),
	(main_client_button_press):
	* src/wm.c: (wm_handle_button_event), (wm_activate_client):
	More transient stacking dialog fixes.
	Initial support for minimize button on app windows ( untested ).
	Embedded panel in titlebar fixes. 
	Other stacking fixes.

2004-10-28  <mallum@handhelds.org>

	* src/base_client.c: (base_client_new), (base_client_process_name),
	(base_client_hide_transients), (base_client_show),
	(base_client_destroy):
	* src/client_common.c: (client_set_state), (client_get_state),
	(client_deliver_config), (client_deliver_wm_protocol),
	(client_deliver_message), (client_obliterate),
	(client_deliver_delete), (client_want_focus),
	(client_get_transient_list), (client_get_highest_transient),
	(client_init_backing), (client_init_backing_mask),
	(client_button_new), (client_button_remove),
	(client_buttons_delete_all), (client_get_button_from_event),
	(client_get_button_list_item_from_event), (client_button_do_ops):
	* src/client_common.h:
	* src/desktop_client.c: (desktop_client_new),
	(desktop_client_show), (desktop_client_unmap),
	(desktop_client_destroy):
	* src/dialog_client.c: (dialog_client_new), (dialog_client_show),
	(dialog_get_available_area), (dialog_client_button_press),
	(dialog_client_drag):
	* src/dockbar_client.c: (dockbar_client_new),
	(dockbar_client_configure), (dockbar_client_move_resize),
	(dockbar_client_show), (dockbar_client_hide),
	(dockbar_client_destroy):
	* src/ewmh.c: (ewmh_handle_root_message), (ewmh_update_lists),
	(ewmh_update_rects), (ewmh_state_check),
	(ewmh_set_allowed_actions), (ewmh_set_active),
	(ewmh_hung_app_check), (ewmh_get_utf8_prop),
	(ewmh_get_icon_prop_data):
	* src/list.h:
	* src/main_client.c: (main_client_new),
	(main_client_check_for_single),
	(main_client_manage_toolbars_for_fullscreen),
	(main_client_configure), (main_client_title_height),
	(main_client_reparent), (main_client_move_resize),
	(main_client_toggle_fullscreen), (main_client_redraw),
	(main_client_button_press), (main_client_toggle_title_bar),
	(main_client_iconize), (main_client_show), (main_client_unmap),
	(main_client_destroy):
	* src/mbtheme.c: (theme_frame_button_paint),
	(theme_frame_menu_get_dimentions), (theme_frame_menu_paint),
	(mbtheme_new), (mbtheme_switch):
	* src/select_client.c: (select_client_new),
	(select_client_event_loop):
	* src/stack.c: (stack_add_below_client), (stack_add_above_client),
	(stack_remove), (stack_update_transients),
	(stack_move_above_extended), (stack_move_below_client),
	(stack_move_above_client), (stack_move_type_above_client),
	(stack_move_type_below_client), (stack_move_transients_to_top),
	(stack_get_window_list), (stack_cycle_forward),
	(stack_cycle_backward), (stack_get_highest), (stack_get_lowest),
	(stack_get_above), (stack_get_below), (stack_dump), (main):
	* src/stack.h:
	* src/structs.h:
	* src/toolbar_client.c: (toolbar_client_new),
	(toolbar_client_configure), (toolbar_client_move_resize),
	(toolbar_client_show), (toolbar_client_hide),
	(toolbar_client_destroy):
	* src/wm.c: (wm_new), (wm_usage), (wm_load_config),
	(wm_find_client), (wm_handle_button_event), (wm_handle_keypress),
	(wm_handle_configure_notify), (wm_handle_configure_request),
	(wm_handle_unmap_event), (wm_handle_client_message),
	(wm_handle_property_change), (wm_make_new_client),
	(wm_remove_client), (wm_update_layout), (wm_activate_client),
	(wm_get_visible_main_client), (wm_get_offsets_size),
	(wm_toggle_desktop), (wm_get_desktop), (wm_sn_monitor_event_func):
	* src/wm.h:
	Much restructing of WM stacking. Is not 100% stable yet.  
	Many --enable options probably broken. 

2004-10-20  mallum,,,  <mallum@handhelds.org>

	* src/Makefile.am:
	* src/stack.c: (stack_add_below_client), (stack_add_above_client),
	(stack_append_top), (stack_prepend_bottom), (stack_remove),
	(stack_preppend), (stack_update_transients),
	(stack_move_above_type), (stack_move_below_type),
	(stack_move_below_client), (stack_move_above_client),
	(stack_get_window_list), (stack_sync_to_display), (main):
	* src/stack.h:
	* src/structs.h:
	Add initial new stack API. Note nothing uses it as yet. 

	* src/wm.c: (wm_make_new_client):
	Remove extra ';' typo ausing probs on gcc2.96 

2004-10-15  mallum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_handle_unmap_event):
	Fix for unmap ( to really unmap ) when no destroy event present.

2004-10-15  mallum  <mallum@handhelds.org>

	* src/wm.c: (wm_handle_configure_request):
	Make sure a toolbar that resizes itself gets repositioned 
	correctly. ( Bug #94 )

2004-09-22 0.8.4 released. 

2004-09-28  mallum,,,  <mallum@handhelds.org>

	* configure.ac:
	Bump up version
	* src/dialog_client.c: (dialog_client_redraw):
	Avoid uneeded call on redraw.

2004-09-24  mallum,,,  <mallum@handhelds.org>

	* src/base_client.c: (base_client_new):
	* src/dialog_client.c: (dialog_client_drag), (_draw_outline):
	Revert back to non problematic hidden dialog drag. 
	* src/structs.h:
	* src/wm.c: (wm_usage), (wm_load_config),
	(wm_handle_configure_request), (wm_win_force_dialog),
	(wm_make_new_client):
	Add support for new -force_dialogs option. 
	Add missing configure notify from dialog resize

2004-09-21  mallum  <mallum@handhelds.org>

	* src/ewmh.c: (ewmh_state_set):
	* src/ewmh.h:
	* src/main_client.c: (main_client_toggle_fullscreen),
	(main_client_redraw):
	Add support for setting _NET_WM_STATE correctly so apps
	like Gnumeric which depend on this work right in switching fullscreen
	* src/wm.c: (wm_load_config), (wm_find_client),
	(wm_make_new_client):
	Minor optimisations to reduce freq of some uneeded calls
	
2004-09-07  mallum  <mallum@handhelds.org>

	* src/mbtheme.c: (mbtheme_switch):
	Resest window shapes for theme change to shapeless theme.

2004-09-07  mallum,,,  <mallum@handhelds.org>

	* src/mbtheme.c: (_theme_paint_core):
	* src/toolbar_client.c: (toolbar_client_new):
	* src/wm.c: (wm_sn_monitor_event_func):
	Various bug fixes to random bugs, inclusing;
	- startup notification crash with bad data and no clients
	- over large toolbars
	- bad theme.xml data

2004-09-01  mallum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_handle_property_change):
	Actually update client sub name prop on change. 

2004-08-30  mallum,,,  <mallum@handhelds.org>

	* src/toolbar_client.c: (toolbar_client_show):
	Stop toolbar raising on desktop from showing wrong dialogs

2004-08-30  mallum,,,  <mallum@handhelds.org>

	* src/main_client.c: (main_client_manage_toolbars_for_fullscreen),
	(main_client_toggle_fullscreen):
	More fullscreen fixes. 

2004-08-30  mallum,,,  <mallum@handhelds.org>

	* src/dockbar_client.c: (dockbar_client_configure):
	Fix east panel positioning

2004-08-30  mallum,,,  <mallum@handhelds.org>

	* src/main_client.c: (main_client_manage_toolbars_for_fullscreen):
	Fullscreen fixes for vertical panels

2004-08-28  mallum,,,  <mallum@handhelds.org>

	* src/matchbox-remote.c: (mbpanelcommand), (mbcommand), (usage),
	Add support for -panel-toggle.  
	Based on patch from Tom Hui.

2004-08-23 0.8.3 released. 

2004-08-23  mallum,,,  <mallum@handhelds.org>

	* configure.ac:
	bump of version. check for libmb1.3

2004-08-21  mallum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_configure):
	* src/main_client.c: (main_client_hide), (main_client_show),
	(main_client_destroy):
	* src/wm.c: (wm_handle_configure_request), (wm_toggle_desktop):
	source cleanups. remove #if 0's. rid compiler warnings

2004-08-18  mallum,,,  <mallum@handhelds.org>

	* src/client_common.c: (client_want_focus):
	Never give message windows input focus. 
	* src/ewmh.c: (ewmh_set_active):
	Remove silly debug crasher.

2004-08-18  mallum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_handle_configure_request):
	Allow toolbars to resize height.

2004-08-17  mallum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_check_for_state_hints),
	(dialog_client_show), (dialog_client_reparent),
	(dialog_get_available_area), (dialog_check_geometry),
	(dialog_init_geometry), (dialog_client_button_press),
	(dialog_client_drag), (_get_mouse_position), (_draw_outline),
	(dialog_client_destroy):
	Quick dialog code cleanup 

2004-08-17  mallum,,,  <mallum@handhelds.org>

	* src/client_common.c: (client_button_do_ops):
	* src/dialog_client.c: (dialog_client_destroy):
	* src/mbtheme.c: (theme_frame_button_paint), (mbtheme_button_new):
	* src/mbtheme.h:
	* src/structs.h:
	Fix for button press-only crazziness. 

2004-08-17  mallum,,,  <mallum@handhelds.org>

	* src/structs.h:
	* src/wm.c: (wm_load_config), (wm_handle_configure_request):
	Make awt workaround set via env var rather than ifdef
	Safer vaue_mask checks for dialog resizing. 

2004-08-13  mallum,,,  <mallum@handhelds.org>

	* src/ewmh.c: (ewmh_init):
	* src/structs.h:
	* src/wm.c: (wm_make_new_client):
	Add new _NET_WM_WINDOW_TYPE_INPUT support

2004-08-12  mallum,,,  <mallum@handhelds.org>

	* src/composite-engine.c: (comp_engine_client_configure):
	* src/wm.c: (wm_handle_configure_request):
	Attempted shadow fix for self resizing dialogs 

2004-08-12  mallum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_init_geometry):
	Eek, fix typo. 

2004-08-11  mallum,,,  <mallum@handhelds.org>

	* src/composite-engine.c: (comp_engine_theme_init),
	(comp_engine_render):
	Use red rectangles for visual debug. 	

	* src/dialog_client.c: (dialog_init_geometry):
	Message window positioning fixes

	* src/ewmh.c: (ewmh_set_active):
	* src/main_client.c: (main_client_manage_toolbars_for_fullscreen),
	(main_client_configure), (main_client_hide), (main_client_show),
	(main_client_destroy):
	* src/main_client.h:
	* src/structs.h:
	* src/toolbar_client.c: (toolbar_client_configure),
	(toolbar_client_show):
	* src/wm.c: (wm_restack):
	Add intial support for showing toolbar windows for fullscreen 
	windows

2004-08-06  mallum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_handle_button_event),
	(wm_handle_configure_request), (wm_restack):
	* src/dialog_client.c: (dialog_check_geometry):
	* src/dialog_client.h:
	Allow dialog resizing / repostioning via new dialog stuff. 
        Raise a dialog on click ( not just titlebar anymore ).

	* src/ewmh.c: (ewmh_set_active):
	Minor optimisation - avoid setting active win prop
	if not changed.

2004-08-06  mallum,,,  <mallum@handhelds.org>

	* data/themes/blondie/theme.xml:
	Fix min+max toolbars having different sizes.
	Note, Matchbox probably should handle this.

	* src/dialog_client.c: (dialog_client_new),
	(dialog_get_available_area), (dialog_check_gemoetry):
	* src/structs.h:
	More dialog positioning/sizing improvements. 

	* src/toolbar_client.c: (toolbar_client_new),
	(toolbar_client_configure), (toolbar_client_move_resize),
	(toolbar_client_show), (toolbar_client_hide),
	(toolbar_client_destroy), (toolbar_client_get_coverage),
	(toolbar_client_button_press), (toolbar_win_offset),
	(toolbar_client_redraw):
	Speed up toolbar handling removing the numerous get_state()
	roundtrips and using a local flag instead. 

2004-08-05  mallum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_show),
	(dialog_get_available_area), (dialog_check_gemoetry),
	(dialog_init_geometry), (dialog_client_configure):
	* src/dialog_client.h:
	* src/dockbar_client.c: (dockbar_client_show),
	(dockbar_client_hide), (dockbar_client_destroy):
	* src/main_client.c: (main_client_title_height):
	* src/structs.h:
	* src/toolbar_client.c: (_fix_dialogs_for_toolbars),
	(toolbar_client_show), (toolbar_client_destroy):
	* src/wm.c: (wm_restack), (wm_get_offsets_size):
	Initial dialog postioning/sizing rewrite

2004-08-03  mallum,,,  <mallum@handhelds.org>

	* src/client_common.c: (client_deliver_wm_protocol),
	(client_deliver_message), (client_button_do_ops):
	* src/client_common.h:
	* src/ewmh.c: (ewmh_init):
	* src/mbtheme.c: (mbtheme_button_new):
	* src/structs.h:
	More subname work and grab message functionality added. 

2004-07-30  mallum,,,  <mallum@handhelds.org>

	* data/schemas/Makefile.am:
	Fix disable schemas install. 
	* src/base_client.c: (base_client_new):
	* src/client_common.c: (client_button_do_ops):
	* src/ewmh.c: (ewmh_init):
	* src/main_client.c: (main_client_destroy):
	* src/mbtheme.c: (theme_frame_button_paint), (theme_frame_paint),
	(param_parse), (mbtheme_button_press_activates),
	(mbtheme_button_new), (mbtheme_sublabel_new),
	(parse_frame_layer_tag), (mbtheme_init):
	* src/mbtheme.h:
	* src/structs.h:
	* src/wm.c: (wm_handle_property_change), (wm_toggle_desktop):
	Add initial support for sub name/label property. 

2004-07-19  Matthew Allum,,,  <mallum@handhelds.org>

	* data/themes/blondie/theme.xml:
	* src/mbtheme.c: (parse_lowlight_tag):
	Improve blondie lowlight color.

2004-07-16  Matthew Allum  <mallum@handhelds.org>

	* src/composite-engine.c: (comp_engine_render), (comp_engine_time):
	* src/structs.h:
	* src/wm.c: (wm_handle_client_message):
	Add suport for visual composite debugging. Toggle via 
	matchbox-remote -x

2004-07-13  Matthew Allum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_configure):
        Initial attempt at 'corner postioning' rules for message dialogs

2004-06-29  Matthew Allum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_new),
	(dialog_client_get_offsets), (dialog_client_check_for_state_hints),
	(dialog_client_show), (dialog_client_reparent),
	(dialog_client_redraw), (dialog_client_drag):
	* src/main_client.c: (main_client_configure),
	(main_client_reparent), (main_client_move_resize),
	(main_client_toggle_fullscreen), (main_client_redraw),
	(main_client_button_press), (main_client_show):
	* src/mbtheme.c: (theme_frame_icon_paint),
	(theme_frame_button_paint), (_theme_paint_core),
	(theme_frame_paint), (theme_frame_menu_get_dimentions),
	(_theme_frame_menu_paint_text_entry):
	* src/wm.c: (wm_new), (wm_load_config), (wm_init_existing),
	(get_xevent_timed), (wm_handle_map_notify), (wm_event_loop),
	(wm_handle_button_event), (wm_handle_configure_request),
	(wm_handle_property_change), (wm_make_new_client),
	(wm_remove_client), (wm_restack), (wm_xsettings_notify_cb),
	(wm_sn_exec), (wm_sn_monitor_event_func), (wm_msg_win_queue_add),
	(wm_msg_win_queue_process), (gconf_key_changed_callback):

	minor source cleanups. 

2004-06-18  Matthew Allum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_handle_configure_request), (wm_make_new_client):
	Hacks to make kaffe awt apps paint the UI's ok when sized by mb.

2004-06-11  Matthew Allum,,,  <mallum@handhelds.org>

	* src/toolbar_client.c: (toolbar_client_new):
	If theres no vertical space for a new toolbar turn it
	into a main client. 

2004-06-04  Matthew Allum,,,  <mallum@handhelds.org>

	* src/ewmh.c: (ewmh_handle_root_message):
	fix for _NET_SHOWING_DESKTOP - dont hide desktop if already showing
	and show is requested. 

2004-06-04  Matthew Allum,,,  <mallum@handhelds.org>

	* src/mbtheme.c: (_theme_paint_core):
	Clip pixmap image if calculated dimentions bigger than
	are to be painted on. Attempted fix for bug #81

2004-06-03  Matthew Allum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_drag):
	Call Xsync so dialog hidden drag background gets updated ok
	* src/mbtheme.c: (theme_frame_paint):
	Dont dont image/char substitution for dialog titles

2004-06-01  Matthew Allum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_handle_configure_request):
	Fixes for dialog self moving in 'free dialog mode'

2004-05-28  Matthew Allum,,,  <mallum@handhelds.org>

	* data/themes/blondie/theme.xml:
	* src/client_common.c: (client_init_backing):
	* src/composite-engine.c: (stack_last), (stack_prev), (stack_push),
	(comp_engine_get_argb32_visual), (comp_engine_init),
	(comp_engine_client_init), (_render_a_client),
	(comp_engine_render):
	* src/composite-engine.h:
	* src/dialog_client.c: (dialog_client_new),
	(dialog_client_reparent), (dialog_client_redraw):
	* src/mbtheme.c: (theme_frame_button_paint), (theme_frame_paint):
	* src/structs.h:
	* src/wm.c: (wm_handle_configure_request), (wm_make_new_client):
	Added initial support for ARGB Windows.
	Changed blondie theme to use simple shadows.
	Possible fix for allowing message wins to move themselves. 
	
2004-05-06  mb-wm 0.8.2 release RELEASE_0_8_2

2004-05-06  Matthew Allum,,,  <mallum@handhelds.org>

	* configure.ac:
	Make ping support selection get reported

2004-04-27  Matthew Allum,,,  <mallum@handhelds.org>

	* configure.ac:
	* data/Makefile.am:
	Bump up version. Fix schema Makefile gubbins for BSD Make

2004-04-26  Matthew Allum,,,  <mallum@handhelds.org>

	* src/base_client.c: (base_client_show):
	* src/dialog_client.c: (dialog_client_show), (dialog_client_drag),
	(dialog_client_destroy):
	* src/structs.h:
	* src/wm.c: (wm_make_new_client), (wm_msg_win_queue_add):
	More work on new message window types. Stacking and composite fixes.

2004-04-22  Matthew Allum,,,  <mallum@openedhand.com>

	* src/dockbar_client.c: (dockbar_client_orientation_calc),
	(dockbar_client_show):
	* src/ewmh.c: (ewmh_init):
	* src/structs.h:
	* src/wm.c: (wm_make_new_client), (wm_toggle_desktop):
	- Add support for keeping embedded titlebar panels visible
	  when desktop is shown.
        - Initial support for new message window types

2004-04-13  Matthew Allum,,,  <mallum@handhelds.org>

	* src/Makefile.am:
	Make clean target clean gcov data files

2004-04-13  Matthew Allum,,,  <mallum@handhelds.org>

	* src/ewmh.c: (ewmh_handle_root_message), (ewmh_hung_app_check):
	* src/wm.c: (wm_usage), (wm_load_config), (wm_event_loop):

	ping related cleanups. remove -ping_handler cmd line option,
	shorten time to kill hung app.  

2004-04-06  Matthew Allum,,,  <mallum@openedhand.com>

	* configure.ac:
	Add disable ping option.
	
	* src/base_client.c: (base_client_new), (base_client_destroy):
	* src/client_common.c: (client_obliterate),
	(client_deliver_delete):
	* src/client_common.h:
	* src/ewmh.c: (ewmh_hung_app_check):
	* src/structs.h:
	* src/wm.c: (wm_new), (get_xevent_timed), (wm_event_loop),
	(wm_sn_timeout_check):

	- Many ping handling changes;
	  -  initiate only when close button pressed.
          -  make code more modular / smaller / ifdef'd
	- Attempt to kill -9 apps by defualt if PID given and app
	  offers no WM_DELETE proto.
        - Improve event loop to only use select timeouts when really needed.
          ( XXX. needs more testing may have broken stuff )

2004-04-05  Matthew Allum,,,  <mallum@openedhand.com>

	* configure.ac:
	Add support for test builds with gconf/gprof
	Clean up the configure --help output 

2004-03-26  Matthew Allum,,,  <mallum@openedhand.com>

	* src/dialog_client.c: (dialog_client_drag):
	Fix underlying apps getting expose for invisable dialog drag.

2004-03-22 matchbox-window-manager-0.8.1 released released tag: RELEASE_0_8_1

2004-03-22  Matthew Allum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_get_offsets),
	(dialog_client_configure):
	Allow decorationless dialog to position themselves anywhere
	Dont add invisible border to decorationless dialogs	
	* src/wm.c: (wm_handle_configure_request):
	Fix Composite for self moving dialogs

2004-03-17  Matthew Allum,,,  <mallum@handhelds.org>

	* configure.ac:
	bump up version number

2004-03-12  Matthew Allum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_drag):
	Fix invisible dialog dragging for composite

2004-03-10  Matthew Allum,,,  <mallum@handhelds.org>

	* AUTHORS:
	* README:
	Added *some* content to these
	* src/dialog_client.c: (dialog_client_drag):
	Dragging mode experimental work

2004-03-09  Matthew Allum,,,  <mallum@handhelds.org>

	* data/Makefile.am:
	* data/themes/Makefile.am:
	Install kdbconfig for standalone, dont install themes files

2004-03-09  Matthew Allum,,,  <mallum@handhelds.org>

	* src/composite-engine.c: (comp_engine_time):
	Disable lowlight timings define - shouldn't be in release 
	* src/dialog_client.c: (dialog_client_drag), (_draw_outline):
	Initial hiding dialog when dragged experiments

2004-03-08  Matthew Allum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_usage), (wm_load_config):
	Remove -use_lowlight option for composite and make it always on.

2004-03-08  Matthew Allum,,,  <mallum@openedhand.com>

	* src/composite-engine.c: (comp_engine_render):
	Dont shadow CM_TRANSLUCENCY windows ( at least for now )

2004-02-26  Matthew Allum,,,  <mallum@openedhand.com>

	* src/mbtheme.c: (_theme_paint_core), (theme_frame_paint):
	Make sure overlarge theme pixmaps are clipped if not scaled

2004-02-25  Matthew Allum,,,  <mallum@openedhand.com>

	* src/main_client.c: (main_client_toggle_fullscreen):
	Fix titlebar panel for fullscreen toggling

2004-02-24  Matthew Allum,,,  <mallum@openedhand.com>

	* src/base_client.c: (base_client_destroy):
	* src/desktop_client.c: (desktop_client_new):
	* src/main_client.c: (main_client_show):
	* src/structs.h:
	* src/wm.c: (wm_toggle_desktop):

	Fix decorated desktop toggling.

2004-02-18  Matthew Allum,,,  <mallum@handhelds.org>

	* src/composite-engine.c: (comp_engine_client_hide):
	Uncomment and improve previous fix clearing lowlights.

2004-02-16  Matthew Allum,,,  <mallum@handhelds.org>

	* data/themes/bluebox/theme.xml:
	Improve bluebox shadow color

2004-02-15  Matthew Allum,,,  <mallum@handhelds.org>

	* src/dialog_client.c: (dialog_client_destroy):
	Fix for possible crash from dialog destroy.

2004-02-10 matchbox-panel-0.8 released released tag: RELEASE_0_8

2004-02-10  Matthew Allum,,,  <mallum@handhelds.org>

	* src/base_client.c: (base_client_new), (base_client_destroy):
	Fix reading of UTF8 Win titles

2004-02-09  Matthew Allum,,,  <mallum@openedhand.com>

	* data/themes/borillo/theme.desktop:
	Fixed menu highlight color

2004-02-09  Matthew Allum,,,  <mallum@openedhand.com>

	* configure.ac:
	Fix xsettings in summary
	* data/themes/borillo/theme.xml:
	Change borillo to autofit font

2004-02-08  Matthew Allum,,,  <mallum@handhelds.org>

	* src/wm.c: (wm_usage):
	fix MB_USE_JPEG typo

2004-02-07  Matthew Allum,,,  <mallum@handhelds.org>

	* configure.ac:
	fix startup notification 

2004-02-06  Matthew Allum,,,  <mallum@handhelds.org>

	* data/themes/borillo/theme.xml:
	correct alpha attribute

2004-02-06  Matthew Allum,,,  <mallum@openedhand.com>

	* src/keys.c: (keys_load_config):
	* src/structs.h:
	Fixed kbdconfig load. fixed defualt icon load

2004-02-05  Matthew Allum, <mallum@openedhand.com>

	* configure.ac:
	Fixed GConf checking, added message window option
	* src/wm.c: (wm_usage):
	Fixed help output
